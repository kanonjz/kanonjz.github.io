## TIME_WAIT状态 
在客户端主动断开连接的情况下，客户端在收到服务端的FIN报文段并发送ACK后，并非直接进入CLOSED状态，而是进入了TIME_WAIT状态。

这是为了防止ACK报文段丢失，TCP关闭不正常而设置的。数据包在网络中是有生存时间的，超过这个时间还未到达目标主机就会被丢弃，并通知源主机。这称为报文段最大生存时间（MSL，Maximum Segment Lifetime）。TIME_WAIT 要等待 2MSL 才会进入 CLOSED 状态。ACK报文段 到达服务器需要 MSL 时间，服务器重传 FIN报文段也需要 MSL 时间，2MSL 是数据包往返的最大时间，如果 2MSL 后还未收到服务器重传的 FIN 包，就说明服务器已经收到了 ACK 包。

但事实上，有了TIME_WAIT状态也不能保证四次连接正常关闭。假设这一种情况，ACK报文段丢失，服务器重传FIN报文段，这时候FIN报文段也丢失，客户端在等待了2MSL后没有收到任何消息以为一切正常，直接进入了CLOSED状态

## 结论
在TIME_WAIT下等待2MSL，只是为了尽最大努力保证四次握手正常关闭。确保老的报文段在网络中消失，不会影响新建立的连接
